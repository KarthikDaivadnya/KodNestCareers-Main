/* ============================================================
   KodNest Premium Build System — Layout System
   Every page: [Top Bar] → [Context Header] → [Workspace + Panel] → [Proof Footer]
   No exceptions. No drift.
   ============================================================ */

/* ── Page Shell ─────────────────────────────────────────── */

.page {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: var(--color-bg);
}

/* ── Top Bar ────────────────────────────────────────────── */
/*
  Structure:
  [Project Name]   [Step X / Y]   [Status Badge]
*/

.topbar {
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--height-topbar);
  padding: 0 var(--space-4);
  background-color: var(--color-bg);
  border-bottom: var(--border-width) solid var(--color-border);
}

.topbar__project {
  font-family: var(--font-sans);
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
}

.topbar__progress {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.topbar__progress-label {
  font-family: var(--font-sans);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
}

.topbar__progress-track {
  display: flex;
  gap: 4px;
  align-items: center;
}

.topbar__progress-step {
  width: 24px;
  height: 4px;
  border-radius: 2px;
  background-color: var(--color-border);
  transition: background-color var(--transition-base);
}

.topbar__progress-step--done {
  background-color: var(--color-accent);
}

.topbar__progress-step--active {
  background-color: var(--color-text-primary);
}

.topbar__status {
  /* see badge component in components.css */
}


/* ── Context Header ─────────────────────────────────────── */
/*
  Large serif headline + 1-line subtext.
  Clear purpose. No hype. No animations.
*/

.context-header {
  padding: var(--space-4) var(--space-4) var(--space-3);
  border-bottom: var(--border-width) solid var(--color-border);
  max-width: var(--width-content);
  width: 100%;
  margin: 0 auto;
}

/* ── Main Content Area ──────────────────────────────────── */

.content-area {
  flex: 1;
  display: flex;
  width: 100%;
  max-width: var(--width-content);
  margin: 0 auto;
  padding: var(--space-4) var(--space-4);
  gap: var(--space-3);
  align-items: flex-start;
}

/* ── Primary Workspace (70%) ────────────────────────────── */
/*
  Main product interaction zone.
  Clean cards. Predictable layout. No crowding.
*/

.workspace {
  flex: 0 0 var(--width-workspace);
  width: var(--width-workspace);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

/* ── Secondary Panel (30%) ──────────────────────────────── */
/*
  Step explanation, prompt box, action buttons.
  Calm. Informational. Helpful.
*/

.panel {
  flex: 0 0 var(--width-panel);
  width: var(--width-panel);
  position: sticky;
  top: calc(var(--height-topbar) + var(--space-4));
  align-self: flex-start;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

/* ── Proof Footer ───────────────────────────────────────── */
/*
  Persistent bottom. Checklist: UI Built, Logic, Test, Deployed.
  Each item requires user confirmation.
*/

.proof-footer {
  border-top: var(--border-width) solid var(--color-border);
  background-color: var(--color-bg);
  padding: var(--space-3) var(--space-4);
}

.proof-footer__inner {
  max-width: var(--width-content);
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.proof-footer__label {
  font-family: var(--font-sans);
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  color: var(--color-text-muted);
  margin-bottom: var(--space-1);
}

.proof-footer__checklist {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  list-style: none;
}

.proof-footer__item {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

/* ── Responsive breakpoint ──────────────────────────────── */
/*
  Below 900px: stack workspace + panel vertically.
  Panel comes after workspace.
*/

@media (max-width: 900px) {
  .content-area {
    flex-direction: column;
    padding: var(--space-2);
    gap: var(--space-3);
  }

  .workspace,
  .panel {
    flex: 1 1 100%;
    width: 100%;
    position: static;
  }

  .topbar {
    padding: 0 var(--space-2);
  }

  .context-header {
    padding: var(--space-3) var(--space-2);
  }
}
