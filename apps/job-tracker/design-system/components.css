/*
 * ============================================================
 * KODNEST PREMIUM BUILD SYSTEM — COMPONENTS
 * ============================================================
 */

/* ── BUTTON ─────────────────────────────────────────────── */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: var(--space-xs);
  height: var(--btn-height-md); padding: 0 var(--btn-px-md);
  font-family: var(--font-sans); font-size: var(--btn-font-size); font-weight: var(--btn-font-weight);
  letter-spacing: var(--btn-letter-spacing); text-transform: uppercase; text-decoration: none;
  border-radius: var(--btn-radius); border: var(--border-width) solid transparent;
  cursor: pointer; white-space: nowrap; transition: var(--transition-color); user-select: none;
}
.btn:focus-visible { outline: var(--border-width-strong) solid var(--color-border-focus); outline-offset: 3px; }
.btn:disabled, .btn[aria-disabled="true"] { opacity: 0.4; cursor: not-allowed; pointer-events: none; }

.btn-primary { background-color: var(--color-accent); color: var(--color-text-inverse); border-color: var(--color-accent); }
.btn-primary:hover { background-color: var(--color-accent-hover); border-color: var(--color-accent-hover); }

.btn-secondary { background-color: transparent; color: var(--color-text-primary); border-color: var(--color-border-strong); }
.btn-secondary:hover { background-color: var(--color-bg-subtle); border-color: var(--color-text-primary); }

.btn-ghost { background-color: transparent; color: var(--color-text-secondary); border-color: transparent; }
.btn-ghost:hover { background-color: var(--color-bg-subtle); color: var(--color-text-primary); }

.btn-danger { background-color: transparent; color: var(--color-accent); border-color: var(--color-accent-border); }
.btn-danger:hover { background-color: var(--color-accent-subtle); border-color: var(--color-accent); }

.btn-success { background-color: var(--color-success); color: #FFFFFF; border-color: var(--color-success); }
.btn-success:hover { background-color: #2E5539; border-color: #2E5539; }

.btn-sm { height: var(--btn-height-sm); padding: 0 var(--btn-px-sm); font-size: var(--text-xs); }
.btn-lg { height: var(--btn-height-lg); padding: 0 var(--btn-px-lg); font-size: var(--text-base); }
.btn-icon { width: var(--btn-height-md); padding: 0; }
.btn-icon.btn-sm { width: var(--btn-height-sm); }
.btn-icon.btn-lg { width: var(--btn-height-lg); }

/* ── BADGE ──────────────────────────────────────────────── */
.badge {
  display: inline-flex; align-items: center; height: var(--badge-height); padding: 0 var(--space-sm);
  font-size: var(--badge-font-size); font-weight: var(--badge-font-weight); font-family: var(--font-sans);
  letter-spacing: var(--badge-letter-spacing); text-transform: uppercase;
  border-radius: var(--badge-radius); white-space: nowrap; border: var(--border-width) solid transparent;
}
.badge-neutral    { background-color: var(--color-bg-subtle);       color: var(--color-text-muted);   border-color: var(--color-border); }
.badge-not-started{ background-color: var(--color-bg-subtle);       color: var(--color-text-muted);   border-color: var(--color-border); }
.badge-in-progress{ background-color: var(--color-warning-subtle);  color: var(--color-warning);      border-color: var(--color-warning-border); }
.badge-shipped    { background-color: var(--color-success-subtle);  color: var(--color-success);      border-color: var(--color-success-border); }
.badge-error      { background-color: var(--color-error-subtle);    color: var(--color-error);        border-color: var(--color-error-border); }

/* ── CARD ───────────────────────────────────────────────── */
.card { background-color: var(--card-bg); border: var(--border-width) solid var(--card-border); border-radius: var(--card-radius); padding: var(--card-padding); }
.card-header { padding-bottom: var(--space-md); margin-bottom: var(--space-md); border-bottom: var(--border-width) solid var(--color-border); }
.card-title { font-family: var(--font-serif); font-size: var(--text-lg); font-weight: var(--weight-semibold); color: var(--color-text-primary); line-height: var(--leading-snug); letter-spacing: var(--tracking-tight); }
.card-subtitle { font-size: var(--text-sm); color: var(--color-text-muted); margin-top: var(--space-xs); line-height: var(--leading-normal); }
.card-body { font-size: var(--text-base); color: var(--color-text-secondary); line-height: var(--leading-relaxed); }
.card-footer { padding-top: var(--space-md); margin-top: var(--space-md); border-top: var(--border-width) solid var(--color-border); display: flex; align-items: center; gap: var(--space-sm); }
.card-interactive { cursor: pointer; transition: border-color var(--duration-fast) var(--easing), background-color var(--duration-fast) var(--easing); }
.card-interactive:hover { border-color: var(--color-border-strong); background-color: var(--color-bg-base); }
.card-accent  { border-left: 3px solid var(--color-accent); }
.card-success { border-left: 3px solid var(--color-success); }
.card-warning { border-left: 3px solid var(--color-warning); }

/* ── LABEL ──────────────────────────────────────────────── */
.label { display: block; font-size: var(--text-sm); font-weight: var(--weight-medium); color: var(--color-text-primary); letter-spacing: var(--tracking-wide); text-transform: uppercase; margin-bottom: var(--space-xs); }
.label-hint { font-size: var(--text-xs); font-weight: var(--weight-regular); color: var(--color-text-muted); text-transform: none; letter-spacing: 0; margin-left: var(--space-xs); }

/* ── INPUT ──────────────────────────────────────────────── */
.input {
  display: block; width: 100%; height: var(--input-height); padding: 0 var(--input-px);
  font-family: var(--font-sans); font-size: var(--text-base); color: var(--color-text-primary);
  background-color: var(--input-bg); border: var(--border-width) solid var(--input-border);
  border-radius: var(--input-radius);
  transition: border-color var(--duration-fast) var(--easing), box-shadow var(--duration-fast) var(--easing);
}
.input::placeholder { color: var(--color-text-muted); }
.input:hover  { border-color: var(--color-border-strong); }
.input:focus  { border-color: var(--color-border-focus); box-shadow: var(--shadow-focus); }
.input:disabled { background-color: var(--color-bg-subtle); color: var(--color-text-muted); cursor: not-allowed; }
.input-error  { border-color: var(--color-error); }
.input-error:focus { box-shadow: 0 0 0 3px rgba(139,0,0,0.15); }
.input-success { border-color: var(--color-success-border); }

/* ── TEXTAREA ───────────────────────────────────────────── */
.textarea {
  display: block; width: 100%; padding: var(--space-sm) var(--input-px);
  font-family: var(--font-sans); font-size: var(--text-base); color: var(--color-text-primary);
  background-color: var(--input-bg); border: var(--border-width) solid var(--input-border);
  border-radius: var(--input-radius); line-height: var(--leading-relaxed); min-height: 96px; resize: vertical;
  transition: border-color var(--duration-fast) var(--easing), box-shadow var(--duration-fast) var(--easing);
}
.textarea::placeholder { color: var(--color-text-muted); }
.textarea:hover { border-color: var(--color-border-strong); }
.textarea:focus { border-color: var(--color-border-focus); box-shadow: var(--shadow-focus); }

/* ── SELECT ─────────────────────────────────────────────── */
.select-wrapper { position: relative; display: block; }
.select-wrapper::after { content: ''; position: absolute; right: var(--space-sm); top: 50%; transform: translateY(-50%); width: 0; height: 0; border-left: 4px solid transparent; border-right: 4px solid transparent; border-top: 5px solid var(--color-text-muted); pointer-events: none; }
.select { display: block; width: 100%; height: var(--input-height); padding: 0 var(--space-lg) 0 var(--input-px); font-family: var(--font-sans); font-size: var(--text-base); color: var(--color-text-primary); background-color: var(--input-bg); border: var(--border-width) solid var(--input-border); border-radius: var(--input-radius); cursor: pointer; transition: border-color var(--duration-fast) var(--easing); }
.select:hover { border-color: var(--color-border-strong); }
.select:focus { border-color: var(--color-border-focus); box-shadow: var(--shadow-focus); }

/* ── FIELD MESSAGES ─────────────────────────────────────── */
.field-message { font-size: var(--text-sm); margin-top: var(--space-xs); line-height: var(--leading-normal); }
.field-message-error   { color: var(--color-error); }
.field-message-success { color: var(--color-success); }
.field-message-hint    { color: var(--color-text-muted); }
.field { display: flex; flex-direction: column; gap: 0; margin-bottom: var(--space-md); }
.field:last-child { margin-bottom: 0; }

/* ── CHECKBOX ───────────────────────────────────────────── */
.checkbox-wrapper { display: flex; align-items: flex-start; gap: var(--space-sm); cursor: pointer; user-select: none; }
.checkbox-input {
  appearance: none; -webkit-appearance: none;
  width: var(--checkbox-size); height: var(--checkbox-size); min-width: var(--checkbox-size);
  border: var(--border-width-strong) solid var(--checkbox-border); border-radius: var(--checkbox-radius);
  background-color: var(--color-bg-surface); cursor: pointer; position: relative; margin-top: 2px;
  transition: background-color var(--duration-fast) var(--easing), border-color var(--duration-fast) var(--easing);
}
.checkbox-input:checked { background-color: var(--checkbox-checked-bg); border-color: var(--checkbox-checked-bg); }
.checkbox-input:checked::after { content: ''; position: absolute; left: 4px; top: 1px; width: 5px; height: 9px; border: 2px solid #FFFFFF; border-top: none; border-left: none; transform: rotate(45deg); }
.checkbox-input:focus-visible { outline: var(--border-width-strong) solid var(--color-border-focus); outline-offset: 3px; }
.checkbox-label { font-size: var(--text-base); color: var(--color-text-secondary); line-height: var(--leading-snug); }
.checkbox-label strong { font-weight: var(--weight-semibold); color: var(--color-text-primary); display: block; margin-bottom: 2px; }
.checkbox-label small { color: var(--color-text-muted); font-size: var(--text-sm); }

/* ── PROGRESS BAR ───────────────────────────────────────── */
.progress-bar { width: 100%; height: var(--progress-height); background-color: var(--progress-bg); border-radius: var(--progress-radius); overflow: hidden; }
.progress-fill { height: 100%; background-color: var(--progress-fill); border-radius: var(--progress-radius); transition: width var(--duration-base) var(--easing); }

/* ── PROMPT BOX ─────────────────────────────────────────── */
.prompt-box { background-color: var(--prompt-bg); border: var(--border-width) solid var(--prompt-border); border-radius: var(--prompt-radius); padding: var(--space-md); position: relative; }
.prompt-box-label { font-size: var(--text-xs); font-weight: var(--weight-medium); letter-spacing: var(--tracking-widest); text-transform: uppercase; color: var(--color-text-muted); margin-bottom: var(--space-sm); }
.prompt-box-content { font-family: var(--font-mono); font-size: var(--text-sm); color: var(--color-text-primary); line-height: var(--leading-relaxed); white-space: pre-wrap; word-break: break-word; margin: 0; background: none; border: none; padding: 0; }
.prompt-box-actions { display: flex; gap: var(--space-xs); margin-top: var(--space-md); flex-wrap: wrap; }

/* ── STEP EXPLANATION ───────────────────────────────────── */
.step-explanation { padding: var(--space-md); border-radius: var(--radius-md); background-color: var(--color-bg-subtle); border: var(--border-width) solid var(--color-border); }
.step-explanation-title { font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--color-text-primary); letter-spacing: var(--tracking-wide); text-transform: uppercase; margin-bottom: var(--space-xs); }
.step-explanation-body { font-size: var(--text-sm); color: var(--color-text-secondary); line-height: var(--leading-relaxed); max-width: none; }

/* ── OVERLINE ───────────────────────────────────────────── */
.overline { display: block; font-size: var(--text-xs); font-weight: var(--weight-medium); letter-spacing: var(--tracking-widest); text-transform: uppercase; color: var(--color-text-muted); margin-bottom: var(--space-xs); }

/* ── DIVIDER ────────────────────────────────────────────── */
.divider { width: 100%; height: var(--border-width); background-color: var(--color-border); margin: var(--space-md) 0; }
.divider-label { display: flex; align-items: center; gap: var(--space-sm); margin: var(--space-md) 0; }
.divider-label::before, .divider-label::after { content: ''; flex: 1; height: var(--border-width); background-color: var(--color-border); }
.divider-label span { font-size: var(--text-xs); font-weight: var(--weight-medium); letter-spacing: var(--tracking-widest); text-transform: uppercase; color: var(--color-text-muted); white-space: nowrap; }

/* ── ALERT ──────────────────────────────────────────────── */
.alert { display: flex; gap: var(--space-sm); padding: var(--space-md); border-radius: var(--radius-md); border: var(--border-width) solid; }
.alert-icon { flex-shrink: 0; width: 18px; height: 18px; margin-top: 2px; }
.alert-body { flex: 1; }
.alert-title { font-size: var(--text-sm); font-weight: var(--weight-semibold); margin-bottom: 4px; color: var(--color-text-primary); }
.alert-message { font-size: var(--text-sm); line-height: var(--leading-relaxed); max-width: none; }
.alert-action { font-size: var(--text-sm); font-weight: var(--weight-medium); margin-top: var(--space-xs); }
.alert-error   { background-color: var(--color-error-subtle);   border-color: var(--color-error-border); }
.alert-error   .alert-icon, .alert-error   .alert-title { color: var(--color-error); }
.alert-error   .alert-message { color: var(--color-text-secondary); }
.alert-warning { background-color: var(--color-warning-subtle); border-color: var(--color-warning-border); }
.alert-warning .alert-icon, .alert-warning .alert-title { color: var(--color-warning); }
.alert-warning .alert-message { color: var(--color-text-secondary); }
.alert-success { background-color: var(--color-success-subtle); border-color: var(--color-success-border); }
.alert-success .alert-icon, .alert-success .alert-title { color: var(--color-success); }
.alert-success .alert-message { color: var(--color-text-secondary); }
.alert-info    { background-color: var(--color-bg-subtle);      border-color: var(--color-border); }
.alert-info    .alert-icon, .alert-info    .alert-title { color: var(--color-text-secondary); }
.alert-info    .alert-message { color: var(--color-text-muted); }

/* ── EMPTY STATE ────────────────────────────────────────── */
.empty-state { display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: var(--space-xl) var(--space-md); gap: var(--space-md); }
.empty-state-icon { width: 40px; height: 40px; color: var(--color-text-muted); opacity: 0.6; }
.empty-state-title { font-family: var(--font-serif); font-size: var(--text-lg); font-weight: var(--weight-semibold); color: var(--color-text-primary); letter-spacing: var(--tracking-tight); }
.empty-state-description { font-size: var(--text-base); color: var(--color-text-muted); max-width: 480px; line-height: var(--leading-relaxed); }
.empty-state-action { margin-top: var(--space-xs); }

/* ── TOAST ──────────────────────────────────────────────── */
.toast-container { position: fixed; bottom: var(--space-lg); right: var(--space-lg); z-index: var(--z-toast); display: flex; flex-direction: column; gap: var(--space-sm); pointer-events: none; }
.toast { display: flex; align-items: flex-start; gap: var(--space-sm); padding: var(--space-sm) var(--space-md); background-color: var(--color-bg-inverse); color: var(--color-text-inverse); border-radius: var(--radius-md); font-size: var(--text-sm); line-height: var(--leading-snug); max-width: 360px; pointer-events: all; border: var(--border-width) solid rgba(255,255,255,0.08); }
.toast-success { border-left: 3px solid var(--color-success); }
.toast-error   { border-left: 3px solid var(--color-error); }
.toast-warning { border-left: 3px solid var(--color-warning); }

/* ── UPLOAD ZONE ────────────────────────────────────────── */
.upload-zone { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: var(--space-sm); padding: var(--space-lg) var(--space-md); border: var(--border-width-strong) dashed var(--color-border-strong); border-radius: var(--radius-md); background-color: var(--color-bg-base); text-align: center; cursor: pointer; transition: var(--transition-color); }
.upload-zone:hover { border-color: var(--color-accent-border); background-color: var(--color-accent-subtle); }
.upload-zone-label { font-size: var(--text-sm); font-weight: var(--weight-medium); color: var(--color-text-secondary); }
.upload-zone-hint  { font-size: var(--text-xs); color: var(--color-text-muted); }
.upload-zone-icon  { width: 24px; height: 24px; color: var(--color-text-muted); }

/* ── PROOF ITEM ─────────────────────────────────────────── */
.proof-item { display: flex; align-items: flex-start; gap: var(--space-md); padding: var(--space-md) 0; border-bottom: var(--border-width) solid var(--color-border); }
.proof-item:last-child { border-bottom: none; }
.proof-item-check { flex-shrink: 0; padding-top: 2px; }
.proof-item-body { flex: 1; display: flex; flex-direction: column; gap: var(--space-xs); }
.proof-item-label { font-size: var(--text-base); font-weight: var(--weight-medium); color: var(--color-text-primary); }
.proof-item-input { font-size: var(--text-sm); padding: var(--space-xs) var(--space-sm); height: 36px; border-radius: var(--radius-sm); }
.proof-item-hint  { font-size: var(--text-xs); color: var(--color-text-muted); }
.proof-item.is-complete .proof-item-label { color: var(--color-success); }
